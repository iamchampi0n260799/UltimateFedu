(this.webpackJsonplearnreactthehardway=this.webpackJsonplearnreactthehardway||[]).push([[17],{125:function(e,a,t){"use strict";t.d(a,"b",(function(){return c})),t.d(a,"c",(function(){return u})),t.d(a,"a",(function(){return p}));var n=t(7),r=t(61),o=t.n(r),c=function(e){return function(a){a(l());var t="https://elearning0706.cybersoft.edu.vn/api/QuanLyKhoaHoc/LayThongTinKhoaHoc?maKhoaHoc=".concat(e);o.a.get(t).then((function(e){a(i(e.data))})).catch((function(e){a(s(e))}))}},l=function(){return{type:n.h}},i=function(e){return{type:n.i,payload:e}},s=function(e){return{type:n.g,payload:e}},u=function(e,a){return function(t){var n="";localStorage.getItem("user")&&(n=JSON.parse(localStorage.getItem("user")).accessToken,t(m()),o()({url:"https://elearning0706.cybersoft.edu.vn/api/QuanLyKhoaHoc/DangKyKhoaHoc",method:"POST",headers:{Authorization:"Bearer ".concat(n)},data:e}).then((function(e){t(d(e.data)),alert("\u0110\u0103ng k\xfd th\xe0nh c\xf4ng"),a.push("/user")})).catch((function(e){t(h(e))})))}},m=function(){return{type:n.e}},d=function(e){return{type:n.f,payload:e}},h=function(e){return{type:n.d,payload:e}},p=function(e){return function(a){var t="";localStorage.getItem("user")&&(t=JSON.parse(localStorage.getItem("user")).accessToken);a(f()),o()({url:"https://elearning0706.cybersoft.edu.vn/api/QuanLyKhoaHoc/HuyGhiDanh",method:"POST",headers:{Authorization:"Bearer ".concat(t)},data:e}).then((function(e){a(g(e.data)),alert("H\u1ee7y \u0111\u0103ng k\xfd th\xe0nh c\xf4ng"),window.location.href=window.location.pathname+window.location.search+window.location.hash})).catch((function(e){a(E(e))}))}},f=function(){return{type:n.b}},g=function(e){return{type:n.c,payload:e}},E=function(e){return{type:n.a,payload:e}}},261:function(e,a,t){},350:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(71),o=t(0),c=t.n(o),l=(t(261),t(18)),i=t(61),s=t.n(i),u=function(){return{type:l.b}},m=function(e){return{type:l.c,payload:e}},d=function(e){return{type:l.a,payload:e}},h=t(26),p=t(114),f=t(125);a.default=Object(h.b)((function(e){return{data:e.editUserReducer.data,loading:e.editUserReducer.loading,error:e.editUserReducer.error}}),(function(e){return{EditUser:function(a,t){var n;e((n=a,function(e){var a="";localStorage.getItem("user")&&(a=JSON.parse(localStorage.getItem("user")).accessToken),e(u()),s()({url:"https://elearning0706.cybersoft.edu.vn/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung",method:"PUT",data:n,headers:{Authorization:"Bearer ".concat(a)}}).then((function(a){e(m(a.data)),alert("Edit profile success"),window.location.href=window.location.pathname+window.location.search+window.location.hash})).catch((function(a){e(d(a))}))}))},fetchCancelCourse:function(a,t){e(Object(f.a)(a,t))}}}))((function(e){var a=Object(o.useState)([]),t=Object(r.a)(a,2),l=t[0],i=t[1],u=JSON.parse(localStorage.getItem("user")),m=Object(p.a)(),d=m.register,h=m.handleSubmit,f=m.errors,g=e.data;return g&&(localStorage.setItem("user",JSON.stringify(Object(n.a)(Object(n.a)({},g),{},{accessToken:u.accessToken}))),u=JSON.parse(localStorage.getItem("user"))),Object(o.useEffect)((function(){s()({url:"https://elearning0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThongTinTaiKhoan",method:"POST",data:{taiKhoan:"".concat(u.taiKhoan),matKhau:"".concat(u.matKhau)},headers:{Authorization:"Bearer ".concat(u.accessToken)}}).then((function(e){i(e.data.chiTietKhoaHocGhiDanh)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",{className:"user-profile container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4"},c.a.createElement("div",null,c.a.createElement("img",{style:{width:"100%",height:"100%"},src:"./images/user.png",alt:""}),c.a.createElement("h3",{className:"text-center mt-3"},u.hoTen),c.a.createElement("p",{className:"text-center"},u.email)),c.a.createElement("div",{className:"box"},c.a.createElement("i",{class:"fa fa-user mr-5"}),c.a.createElement("a",{href:"#userProfile"},"User profile")),c.a.createElement("hr",null),c.a.createElement("div",{className:"box"},c.a.createElement("i",{class:"fa fa-book mr-5"}),c.a.createElement("a",{href:"#userCourses"},"User courses")),c.a.createElement("hr",null)),c.a.createElement("div",{className:"col-8"},c.a.createElement("div",{className:"p-3 fancy",style:{backgroundColor:"orange"}},c.a.createElement("p",{className:"text-center text-light"},"Cu\u1ed9c s\u1ed1ng th\u1eadt l\xe0 vui khi l\xe0m wjbu v\xe0 h\xe3y lu\xf4n t\u1ef1 h\xe0o v\xec m\xecnh l\xe0 1 th\u1eb1ng wjbu")),c.a.createElement("div",{id:"userProfile",className:"profile"},c.a.createElement("h2",null,"User's profile"),c.a.createElement("div",{className:"information-group"},c.a.createElement("h6",null,"H\u1ecd t\xean:"),c.a.createElement("input",{type:"text",name:"hoTen",id:"",value:u.hoTen})),c.a.createElement("div",{className:"information-group"},c.a.createElement("h6",null,"Email:"),c.a.createElement("input",{type:"text",name:"email",id:"",value:u.email})),c.a.createElement("div",{className:"information-group"},c.a.createElement("h6",null,"T\xe0i kho\u1ea3n:"),c.a.createElement("input",{type:"text",name:"taiKhoan",id:"",value:u.taiKhoan})),c.a.createElement("div",{className:"information-group"},c.a.createElement("h6",null,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"),c.a.createElement("input",{type:"text",name:"soDT",id:"",value:u.soDT||"01219138679"})),c.a.createElement("div",{className:"information-group"},c.a.createElement("button",{"data-toggle":"modal","data-target":"#exampleModal",className:"btn btn-primary mr-3"},"Edit profile"),c.a.createElement("button",{"data-toggle":"modal","data-target":"#exampleModal",className:"btn btn-success",onClick:function(){localStorage.removeItem("user"),window.location.href="./"}},"Logout"),c.a.createElement("div",{class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c.a.createElement("div",{class:"modal-dialog",role:"document"},c.a.createElement("div",{class:"modal-content pt-5"},c.a.createElement("div",{class:"modal-header"},c.a.createElement("h5",{class:"modal-title",id:"exampleModalLabel"},"Edit User")),c.a.createElement("div",{class:"modal-body"},c.a.createElement("form",{action:"",onSubmit:h((function(a){e.EditUser(Object(n.a)(Object(n.a)({},a),{},{maLoaiNguoiDung:"HV",maNhom:"GP01"}),e.history)}))},c.a.createElement("div",{className:"information-group-edit"},c.a.createElement("i",{class:"fa fa-user"}),c.a.createElement("input",{type:"text",name:"hoTen",ref:d({required:" Required"}),placeholder:"H\u1ecd t\xean"}),f.hoTen&&c.a.createElement("span",{className:"text-danger"},f.hoTen.message)),c.a.createElement("div",{className:"information-group-edit"},c.a.createElement("i",{class:"fa fa-envelope"}),c.a.createElement("input",{type:"email",name:"email",ref:d({required:" Required"}),placeholder:"Email"}),f.email&&c.a.createElement("span",{className:"text-danger"},f.email.message)),c.a.createElement("div",{className:"information-group-edit"},c.a.createElement("i",{class:"fa fa-phone"}),c.a.createElement("input",{type:"number",name:"soDT",ref:d({required:" Required"}),placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),f.soDT&&c.a.createElement("span",{className:"text-danger"},f.soDT.message)),c.a.createElement("div",{className:"information-group-edit"},c.a.createElement("i",{class:"fa fa-key"}),c.a.createElement("input",{type:"text",name:"taiKhoan",ref:d({required:" Required"}),placeholder:"T\xe0i kho\u1ea3n"}),f.taiKhoan&&c.a.createElement("span",{className:"text-danger"},f.taiKhoan.message)),c.a.createElement("div",{className:"information-group-edit"},c.a.createElement("i",{class:"fa fa-key"}),c.a.createElement("input",{type:"password",name:"matKhau",ref:d({required:" Required"}),placeholder:"M\u1eadt kh\u1ea9u"}),f.matKhau&&c.a.createElement("span",{className:"text-danger"},f.matKhau.message)),c.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Save changes"))),c.a.createElement("div",{class:"modal-footer"},c.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Close")))))),c.a.createElement("h2",null,"User's courses"),function(){if(l)return l.map((function(a,t){return c.a.createElement("div",{id:"userCourses",className:"userCourse",key:t},c.a.createElement("h5",null,a.tenKhoaHoc),c.a.createElement("button",{onClick:function(){var t;t=a.maKhoaHoc,e.fetchCancelCourse({maKhoaHoc:t,taiKhoan:u.taiKhoan})},className:"btn btn-danger"},"H\u1ee7y"))}))}()))))}))}}]);
//# sourceMappingURL=17.06025f85.chunk.js.map