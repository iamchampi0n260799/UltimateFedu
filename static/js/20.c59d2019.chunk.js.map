{"version":3,"sources":["containers/Home/CategoriesPage/modules/action.js","containers/Home/CategoriesPage/index.js"],"names":["actFetchCategoriesRequest","type","CATEGORIES_REQUEST","actFetchCategoriesSucess","data","CATEGORIES_SUCESS","payload","actFetchCategoriesFailed","error","CATEGORIES_FAILED","index","props","renderCourse","searchTerm","filter","tenKhoaHoc","toLowerCase","indexOf","map","course","CourseItems","key","handleClickToPush","maDanhMuc","history","push","renderCategoies","state","categories","item","style","cursor","onClick","className","tenDanhMuc","this","match","params","fetchCategories","axios","get","then","result","setState","catch","console","log","prevProps","to","fontWeight","Search","Component","connect","loading","categoriesReducer","courseReducer","dispatch","url","actFetchCategories"],"mappings":"iPA0BMA,EAA4B,WAC9B,MAAO,CACHC,KAAMC,MAGRC,EAA2B,SAACC,GAC9B,MAAO,CACHH,KAAMI,IACNC,QAASF,IAGXG,EAA2B,SAACC,GAC9B,MAAO,CACHP,KAAMQ,IACNH,QAASE,I,mCChCXE,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA0BRC,aAAe,WAAO,IAAD,EACQ,EAAKD,MAA1BP,EADa,EACbA,KAAMS,EADO,EACPA,WACZ,GAAIT,EAMF,OALAA,EAAOA,EAAKU,QAAO,SAACV,GAClB,OACuE,IAArEA,EAAKW,WAAWC,cAAcC,QAAQJ,EAAWG,mBAGzCE,KAAI,SAACC,EAAQT,GAAT,OACd,kBAACU,EAAA,EAAD,CAAaC,IAAKX,EAAOS,OAAQA,QApCpB,EAwCnBG,kBAAoB,SAACC,GACnB,EAAKZ,MAAMa,QAAQC,KAAnB,sBAAuCF,KAzCtB,EA2CnBG,gBAAkB,WAChB,OAAO,EAAKC,MAAMC,WAAWV,KAAI,SAACW,EAAMnB,GAAP,OAC/B,kBAAC,IAAD,CACEoB,MAAO,CAAEC,OAAQ,WACjBV,IAAKX,EACLsB,QAAS,WACP,EAAKV,kBAAkBO,EAAKN,YAE9BU,UAAU,iBAGTJ,EAAKK,gBApDV,EAAKP,MAAQ,CACXC,WAAY,IAHG,E,gEAME,IAAD,OACZA,EAAeO,KAAKxB,MAAMyB,MAAMC,OAAhCT,WACNO,KAAKxB,MAAM2B,gBAAgBV,GAE3BW,IACGC,IAFM,8EAGNC,MAAK,SAACC,GACL,EAAKC,SAAS,CACZf,WAAYc,EAAOtC,UAGtBwC,OAAM,SAACpC,GACNqC,QAAQC,IAAItC,Q,yCAGCuC,GACbZ,KAAKxB,MAAMyB,QAAUW,EAAUX,OACjCD,KAAKxB,MAAM2B,gBAAgBH,KAAKxB,MAAMyB,MAAMC,OAAOT,c,+BAqCrD,OADAiB,QAAQC,IAAIX,KAAKR,MAAMC,YAErB,yBAAKK,UAAU,IACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,oBACb,kBAAC,IAAD,CAAMe,GAAG,UAAUlB,MAAO,CAAEmB,WAAY,OAAShB,UAAU,iBAA3D,qCACCE,KAAKT,mBAER,yBAAKO,UAAU,qBAEb,kBAACiB,EAAA,EAAD,MACA,yBAAKjB,UAAU,OAAOE,KAAKvB,uB,GAvEnBuC,aA6FLC,uBAfS,SAACzB,GACvB,MAAO,CACL0B,QAAS1B,EAAM2B,kBAAkBD,QACjCjD,KAAMuB,EAAM2B,kBAAkBlD,KAC9BI,MAAOmB,EAAM2B,kBAAkB9C,MAC/BK,WAAYc,EAAM4B,cAAc1C,eAGT,SAAC2C,GAC1B,MAAO,CACLlB,gBAAiB,SAACV,GAChB4B,ED/F4B,SAAC5B,GAE/B,OAAO,SAAC4B,GACJA,EAASxD,KAGT,IAAMyD,EAAG,mGAA+F7B,EAA/F,gBACTW,IAAMC,IAAIiB,GACLhB,MAAK,SAACC,GACHc,EAASrD,EAAyBuC,EAAOtC,UAE5CwC,OAAM,SAACpC,GACJgD,EAASjD,EAAyBC,QCmFnCkD,CAAmB9B,QAInBwB,CAA6C1C","file":"static/js/20.c59d2019.chunk.js","sourcesContent":["import { CATEGORIES_REQUEST, CATEGORIES_SUCESS , CATEGORIES_FAILED } from \"./constants\"\r\nimport axios from \"axios\"\r\nexport const actFetchCategories = (categories) => {\r\n    // API\r\n    return (dispatch) => {\r\n        dispatch(actFetchCategoriesRequest())\r\n\r\n\r\n        const url = `https://elearning0706.cybersoft.edu.vn/api/QuanLyKhoaHoc/LayKhoaHocTheoDanhMuc?maDanhMuc=${categories}&MaNhom=GP01`\r\n        axios.get(url)\r\n            .then((result) => {\r\n                dispatch(actFetchCategoriesSucess(result.data))\r\n            })\r\n            .catch((error) => {\r\n                dispatch(actFetchCategoriesFailed(error))\r\n            })\r\n        \r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst actFetchCategoriesRequest = () => {\r\n    return {\r\n        type: CATEGORIES_REQUEST\r\n    }\r\n}\r\nconst actFetchCategoriesSucess = (data) => {\r\n    return {\r\n        type: CATEGORIES_SUCESS,\r\n        payload: data\r\n    }\r\n}\r\nconst actFetchCategoriesFailed = (error) => {\r\n    return {\r\n        type: CATEGORIES_FAILED,\r\n        payload: error\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { actFetchCategories } from \"./modules/action\";\r\nimport CourseItems from \"../../../components/CourseItems\";\r\nimport Search from '../../../components/Search'\r\nimport \"./index.css\"\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nclass index extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      categories: [],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let { categories } = this.props.match.params;\r\n    this.props.fetchCategories(categories)\r\n    const url = `https://elearning0706.cybersoft.edu.vn/api/QuanLyKhoaHoc/LayDanhMucKhoaHoc`;\r\n    axios\r\n      .get(url)\r\n      .then((result) => {\r\n        this.setState({\r\n          categories: result.data,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.match !== prevProps.match) {\r\n      this.props.fetchCategories(this.props.match.params.categories)\r\n    }\r\n  }\r\n\r\n  renderCourse = () => {\r\n    let { data, searchTerm } = this.props;\r\n    if (data) {\r\n      data = data.filter((data) => {\r\n        return (\r\n          data.tenKhoaHoc.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1\r\n        );\r\n      });\r\n      return data.map((course, index) => (\r\n        <CourseItems key={index} course={course} />\r\n      ));\r\n    }\r\n  };\r\n  handleClickToPush = (maDanhMuc) => {\r\n    this.props.history.push(`/categories/${maDanhMuc}`);\r\n  };\r\n  renderCategoies = () => {\r\n    return this.state.categories.map((item, index) => (\r\n      <Link\r\n        style={{ cursor: \"pointer\" }}\r\n        key={index}\r\n        onClick={() => {\r\n          this.handleClickToPush(item.maDanhMuc);\r\n        }}\r\n        className=\"dropdown-item\"\r\n      // to={`/courses/${item.maDanhMuc}`}\r\n      >\r\n        {item.tenDanhMuc}\r\n      </Link>\r\n    ));\r\n  };\r\n  render() {\r\n    console.log(this.state.categories);\r\n    return (\r\n      <div className=\"\">\r\n        <div className=\"row\">\r\n          <div className=\"categories col-2\">\r\n            <Link to=\"/course\" style={{ fontWeight: \"600\" }} className=\"dropdown-item\">Tất cả khóa học</Link>\r\n            {this.renderCategoies()}\r\n          </div>\r\n          <div className=\"coursepage col-10\">\r\n\r\n            <Search />\r\n            <div className=\"row\">{this.renderCourse()}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.categoriesReducer.loading,\r\n    data: state.categoriesReducer.data,\r\n    error: state.categoriesReducer.error,\r\n    searchTerm: state.courseReducer.searchTerm,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchCategories: (categories) => {\r\n      dispatch(actFetchCategories(categories));\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(index);\r\n"],"sourceRoot":""}